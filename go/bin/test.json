{
  
  
  "version": 2,
  "name": "Krakend Api-gateway",
  "port": 7070,
  "extra_config": {
  "github_com/devopsfaith/krakend-cors": {
      "allow_origins": [
        "localhost:3000"
      ],
      "allow_methods": [
        "*"
      ],
      "expose_headers": [
        "*"
      ],
      "max_age": "12h",
      "allow_headers": [
        "*"
      ],
      "allow_credentials": true,
      "debug": true
   }
},
  "endpoints": [
      
   {
     "endpoint": "/api/v1/registration",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/users/{username}",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/users/reset-password",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/users",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/streamers",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/users/file",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/auth/login",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/auth/refresh-token",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      
   {
     "endpoint": "/api/v1/auth/logout",
     "headers_to_pass": ["*"],
     "querystring_params":["*"],
     "output_encoding": "no-op",
     "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,

      

{
       "endpoint": "/api/v1/admin/grant-authority",
       "extra_config": {
  "github.com/devopsfaith/krakend-jose/validator": {
       "alg": "RS256",
       "cache": true,
       "issuer": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK",
       "roles_key": "cognito:groups",
       "roles_key_is_nested": true,
       "disable_jwk_security": true,
       "roles": [
         "ADMIN"
       ],
       "jwk-url": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK/.well-known/jwks.json"
     }
},
       "headers_to_pass": ["*"],
       "querystring_params":["*"],
       "output_encoding": "no-op",
       "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      

{
       "endpoint": "/api/v1/admin/users-in-group",
       "extra_config": {
  "github.com/devopsfaith/krakend-jose/validator": {
       "alg": "RS256",
       "cache": true,
       "issuer": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK",
       "roles_key": "cognito:groups",
       "roles_key_is_nested": true,
       "disable_jwk_security": true,
       "roles": [
         "ADMIN"
       ],
       "jwk-url": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK/.well-known/jwks.json"
     }
},
       "headers_to_pass": ["*"],
       "querystring_params":["*"],
       "output_encoding": "no-op",
       "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      

{
       "endpoint": "/api/v1/admin/disable-user",
       "extra_config": {
  "github.com/devopsfaith/krakend-jose/validator": {
       "alg": "RS256",
       "cache": true,
       "issuer": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK",
       "roles_key": "cognito:groups",
       "roles_key_is_nested": true,
       "disable_jwk_security": true,
       "roles": [
         "ADMIN"
       ],
       "jwk-url": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK/.well-known/jwks.json"
     }
},
       "headers_to_pass": ["*"],
       "querystring_params":["*"],
       "output_encoding": "no-op",
       "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }
,
      

{
       "endpoint": "/api/v1/admin/enable-user",
       "extra_config": {
  "github.com/devopsfaith/krakend-jose/validator": {
       "alg": "RS256",
       "cache": true,
       "issuer": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK",
       "roles_key": "cognito:groups",
       "roles_key_is_nested": true,
       "disable_jwk_security": true,
       "roles": [
         "ADMIN"
       ],
       "jwk-url": "https://cognito-idp.eu-west-2.amazonaws.com/eu-west-2_Yl9HrRUCK/.well-known/jwks.json"
     }
},
       "headers_to_pass": ["*"],
       "querystring_params":["*"],
       "output_encoding": "no-op",
       "method": "ANY",

      
    "backend": [
      {
        "host": ["localhost:9090"],
         "url_pattern": "/*path",
         "encoding": "no-op"
      }
      ]
   }

  ]
}