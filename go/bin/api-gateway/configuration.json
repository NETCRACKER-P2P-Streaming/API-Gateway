{
  "version": 2,
  "name": "Krakend Api-gateway",
  "port": 7070,
  "host": [
    "http://localhost:9090",
    "http://localhost:8081"
  ],
  "extra_config": {
    "github_com/devopsfaith/krakend-cors": {
      "allow_origins": [
        "http://localhost:3000"
      ],
      "allow_methods": [
        "*"
      ],
      "expose_headers": [
        "*"
      ],
      "max_age": "24h",
      "allow_headers": [
        "*"
      ],
      "allow_credentials": true,
      "debug": false
    },
    "endpoints": [
      {
        "endpoint": "/signup",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/registration",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users/{username}",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/users/{username}",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users/reset-password",
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/users/reset-password",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/users",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users",
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/users",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users",
        "headers_to_pass": [
          "*"
        ],
        "method": "DELETE",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/users",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/streamers",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/streamers",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/login",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/auth/login",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/token",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/auth/refresh-token",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/logout",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/auth/logout",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/grant-authority",
        "querystring_params": [
          "username",
          "groupName"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/admin/grant-authority",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/grant-authority",
        "querystring_params": [
          "username",
          "groupName"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "DELETE",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/admin/grant-authority",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/users-in-group",
        "querystring_params": [
          "groupName"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/admin/users-in-group",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/disable-user",
        "querystring_params": [
          "username"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/admin/disable-user",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/enable-user",
        "querystring_params": [
          "username"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/admin/enable-user",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/s3/image",
        "querystring_params": [
          "file"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/s3/upload",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/s3/image",
        "querystring_params": [
          "url"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "DELETE",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/s3/delete",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/s3/image",
        "querystring_params": [
          "file"
        ],
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:9090"
            ],
            "url_pattern": "/api/v1/s3/change",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/stream/page",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/stream/page",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/stream/signup",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/stream/register",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/stream",
        "headers_to_pass": [
          "*"
        ],
        "method": "DELETE",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/stream/delete",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/stream/{userId}",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/stream/get/{userId}",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/stream",
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/stream/update",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/category/{name}",
        "headers_to_pass": [
          "*"
        ],
        "method": "GET",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/category/get/{name}",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/category/page",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/category/page",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/category",
        "headers_to_pass": [
          "*"
        ],
        "method": "POST",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/category/add",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/category",
        "headers_to_pass": [
          "*"
        ],
        "method": "PUT",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/category/update",
            "encoding": "no-op"
          }
        ]
      },
      {
        "endpoint": "/category",
        "headers_to_pass": [
          "*"
        ],
        "method": "DELETE",
        "output_encoding": "no-op",
        "backend": [
          {
            "host": [
              "http://localhost:8081"
            ],
            "url_pattern": "/api/category/remove",
            "encoding": "no-op"
          }
        ]
      }
    ]
  }
}